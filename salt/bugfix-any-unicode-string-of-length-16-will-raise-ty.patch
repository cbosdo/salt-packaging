From 5bf3fef3f699f53aa835572570cae31e57baad98 Mon Sep 17 00:00:00 2001
From: Bo Maryniuk <bo@suse.de>
Date: Fri, 5 Oct 2018 12:02:08 +0200
Subject: [PATCH] Bugfix: any unicode string of length 16 will raise
 TypeError instead of ValueError

---
 salt/_compat.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/salt/_compat.py b/salt/_compat.py
index 61842b4bf3..2a6938ebed 100644
--- a/salt/_compat.py
+++ b/salt/_compat.py
@@ -191,7 +191,7 @@ class IPv6AddressScoped(ipaddress.IPv6Address):
         if isinstance(data, bytes) and len(data) == 16 and b':' not in data:
             try:
                 packed = bool(int(binascii.hexlify(data), 16))
-            except ValueError:
+            except (ValueError, TypeError):
                 pass
 
         return packed
-- 
2.21.0


